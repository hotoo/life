define("markline/0.6.0/timeline",["jquery/2.1.1/jquery"],function(t,e,o){function n(t,e){this._element=l(t),this.title=e.title||"",this.meta=e.meta||{},this.body=e.body||{}}function i(t){return parseInt(t/864e5*r/365.24,10)}function s(t){return"[object Function]"===Object.prototype.toString.call(t)}var l=t("jquery/2.1.1/jquery"),a=30,r=100;n.prototype._process=function(t,e){if(e)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];s(e["group:start"])&&e["group:start"].call(this,o,n);for(var i=0,l=n.length;l>i;i++){var a=n[i];if(s(e["line:start"])&&e["line:start"].call(this,a),a.events)for(var r=0,c=a.events.length;c>r;r++)s(e.event)&&e.event.call(this,a.events[r]);s(e["line:stop"])&&e["line:stop"].call(this,a)}s(e["group:stop"])&&e["group:stop"].call(this,o,n)}},n.prototype.render=function(){function t(t){t.preventDefault();var e=v.x+(f.x-t.clientX),o=v.y+(f.y-t.clientY);u.body.scrollLeft(e),u.body.scrollTop(o)}var e,o;this._process(this.body,{"line:start":function(t){var n=t["date-start"],i=t["date-end"];(!e||e>n)&&(e=n),(!o||i>o)&&(o=i)}});var n=e.getFullYear(),s=o.getFullYear()+2;e=new Date(n,0,1);for(var r=['<div class="dates">',"<ol>"],c=n,h=0;s>=c;c++,h++)r.push("<li><label>",c,"show"===this.meta.age?" ("+h+")":"","</label></li>");r.push("</ol>","</div>");var p=['<div class="events" id="events">'],d=0;this._process(this.body,{"group:start":function(t){p.push('<div class="groups">',"<label>",t,"</label>","<ol>")},"group:stop":function(){p.push("</ol>","</div>")},"line:start":function(t){var o=t["date-start"],n=t["date-end"],s=i(o-e)+a;d=o;var l=i(n-o);8>l&&(l=8),p.push('<li style="margin-left:',s,'px;">',"<div>",'<ol style="width:',l,'px;">')},"line:stop":function(t){p.push("</ol>","<time>",t.date,"</time>","<label>",t.name,"</label>","</div>","</li>")},event:function(t){var e=i(t["date-start"]-d),o=i(t["date-end"]-t["date-start"]);8>o&&(o=8,e-=4),p.push('<li style="left:',e,"px;width:",o,'px" title="',t.date," ",t.name,'"></li>')}});var u=this;this._element.addClass("markline"),this.title=l(["<header>",this.title,"</header>"].join("")).appendTo(this._element),this.footer=l(['<footer><a class="forkme" href="https://github.com/hotoo/markline" target="_blank">Markline</a></footer>'].join("")).appendTo(this._element),this.container=l("<section></section>").appendTo(this._element),this.header=l(r.join("")).appendTo(this.container),this.body=l(p.join("")).appendTo(this.container),this.body.on("scroll",function(){var t=l(this);u.header.css({left:-u.body.scrollLeft()});var e=l(".groups > label",u._element);e.css({left:t.scrollLeft()-90})});var f,v;this.container.on("mousedown",function(e){f={x:e.clientX,y:e.clientY},v={x:u.body.scrollLeft(),y:u.body.scrollTop()},u.container.on("mousemove",t)}),this.container.on("mouseup",function(){u.container.off("mousemove",t)})},o.exports=n});